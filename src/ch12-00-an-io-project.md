# פרוייקט I/O: בניית תכנית שורת פקודה

פרק זה הוא סיכום של רבות מהיכולות שלמדתם עד כה וסקירה של תכונות נוספות מהספריה הסטנדרטית. אנו נבנה כלי שורת פקודה שבא במגע קלט ופלט עם קובץ ועם שורת הפקודה, וכך תראו בפעולה כמה מהקונספטים שתחת אמתחתכם.

המהירות, הבטיחות, קובץ הריצה הבינארי היחיד, והתמיכה במגוון מערכות של ראסט הופכת אותה לשפה אידאלית ליצירת כלי שורת פקודה ולכן, עבור הפרוייקט שלנו, ניצור גרסא משלנו לכלי שורת הפקודה הקלאסי לחיפוש: `grep` (**g**lobally search a **r**egular **e**xpression and **p**rint). בשימוש הכי פשוט, `grep` מחפש בקובץ ספציפי לפי מחרוזת ספציפית. על מנת לעשות זאת, `grep` מקבל כארגומנטים מסלול לקובץ ומחרוזת. אז הוא קורא את הקובץ, מוצא שורות בקובץ זה שמכילות את ארגומנט המחרוזת, ומדפיס שורות אלה.

לאורך הדרך, נראה כיצד לגרום לכלי שורת הפקודה שלנו להשתמש ביכולות של הטרמינל בהן משתמשים גם כלי שורת פקודה רבים אחרים. בפרט, נקרא את הערך של משתנה סביבה כדי לאפשר למשתמש לכוונן את ההתנהגות של הכלי שלנו.
בנוסף, נדפיס הודעת שגיאה לזרם קונסול השגיאות הסטנדרטי (`stderr`) במקום לפלט הסטנדרטי (`stdout`), וכך נאפשר למשתמש, למשל, לשלוח פלט הצלחה לקובץ בעוד ששגיאות עדיין יוצגו על המסך.

אחד מחברי קהילת ראסט, אנדרו גלאנט (Andrew Gallant), כבר יצר גרסא מלאה של `grep` בראסט, הנקראה `ripgrep`. בהשוואה לכך, הגרסא שלנו תהיה די פשוטה, ובכל זאת פרק זה ייתן לכם חלק מהידע הדרוש כדי להבין פרוייקט אמיתי כמו `ripgrep`.

פרוייקט ה-`grep` שלנו ישלב מספר קונספטים שלמדתם עד כה:

- ניהול קוד (תוך שימוש במה שלמדתם אודות מודולים [בפרק 7][ch7]<!--
  ignore -->)
- שימוש בווקטורים ומחרוזות (אוספים, [פרק 8][ch8]<!-- ignore -->)
- טיפול בשגיאות ([פרק 9][ch9]<!-- ignore -->)
- שימוש בתכונות ומשכי-חיים היכן שצריך ([פרק 10][ch10]<!-- ignore
  -->)
- כתיבת פונקציות מבחן ([פרק 11][ch11]<!-- ignore -->)

כמו כן, נציג בקצרה סגורים, איטרטורים, ואובייקטי תכונה, אשר פרקים [13][ch13]<!-- ignore --> ו-[17][ch17]<!-- ignore --> יכסו בפירוט.

[ch7]: ch07-00-managing-growing-projects-with-packages-crates-and-modules.html
[ch8]: ch08-00-common-collections.html
[ch9]: ch09-00-error-handling.html
[ch10]: ch10-00-generics.html
[ch11]: ch11-00-testing.html
[ch13]: ch13-00-functional-features.html
[ch17]: ch17-00-oop.html
