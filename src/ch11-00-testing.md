# כתיבת בדיקות אוטומטיות

במאמר "המתכנת העניו" (“The Humble Programmer”) משנת 1972, אדסגר ו. דייקסטרה כתב: "בדיקת תכנה יכולה להיות דרך יעילה מאוד להראות את קיומם של באגים, אבל זו דרך ללא מוצא אם המטרה היא להראות את העדרם". אך אין זה אומר שאל לנו לנסות כמיטב יכולתנו לבדוק את התכניות שלנו!

נכונות של תכניות נמדדת בעד כמה הקוד מבצע את מה שהוא אמור לבצע. ראסט מתוכננת עם מידה גדולה של תשומת לב לנכונות התכניות, אבל נכונות היא נושא מורכב שאינו ניתן בקלות להוכחה. מערכת הטיפוסים של ראסט מסייעת רבות בעניין זה, אבל מערכת הטיפוסים אינה יכולה לעשות את הבלתי אפשרי. משכך, ראסט כוללת תמיכה בכתיבת בדיקות אוטומטיות.

נניח שאנו כותבים את הפונקציה `add_two` שמוסיפה 2 לארגומנט שמועבר אליה. חותם הפונקציה מקבל מספר שלם כפרמטר ומחזיר כתוצאה מספר שלם. כאשר מממשים ומקמפלים את הפונקציה, ראסט מבצעת בדיקות טיפוסים ובדיקת השאלות, כפי שלמדתם עד כה, על מנת להבטיח, למשל, שלא מעבירים לפונקציה ערך מטיפוס `String` או הפניה שאינה בתוקף. אבל ראסט אינה יכולה לבדוק שפונקציה זו אכן מבצעת את מה שאנו מתכוונים שהיא תבצע, קריא החזרת הפרמטר פלוס 2, ולא, למשל פלוס 10 או מינוס 50! וכאן נכנסות לתמונה בדיקות אוטומטיות.

ניתן לכתוב בדיקות שמוודאות, למשל, שכאשר מעבירים לפונקציה `add_two` את הערך `3`, הערך המוחזר הוא `5`. ניתן להריץ בדיקות אלה בכל פעם שמבצעים שינוי בקוד וכך להבטיח את שימור ההתנהגות הנאותה של הפונקציה.

ביצוע בדיקות היא משימה מורכבת: למרות שלא נכסה בפרק זה את כל הפרטים אודות כתיבת מקרי מבחן טובים, נציג את המכניקה של כתיבת בדיקות ומקרי מבחן בראסט. נדון בביאורים ומקרואים הזמינים לשימוש בזמן כתיבת בדיקות, התנהגות ברירת המחדל והאופציות השונות של הרצת בדיקות, וכיצד לארגן בדיקות לבדיקות יחידה ובדיקות אינטגרציה.
